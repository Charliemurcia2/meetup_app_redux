{"version":3,"sources":["components/meetups/MeetupList.module.css","components/meetups/MeetupItem.module.css","components/guests/Guests.module.css","components/guests/Guests.js","components/meetups/MeetupItem.js","components/meetups/MeetupList.js","components/layout/DeletePopup.module.css","components/layout/DeletePopup.js","routes/AllMeetups.js"],"names":["module","exports","list","item","image","content","actions","guests-card","confirmed-button","rejected-button","requested-button","status","Guests","props","users","useSelector","state","user","meetupUrl","meetup","meetupURL","dispatch","useDispatch","callAPI","useRequest","meetupAttendees","attendeesId","split","guests","forEach","attendee","realAttendee","filter","id","push","react_default","a","createElement","react","className","classes","length","map","guest","key","src","alt","name","onClick","event","guestId","removeAttendeeFromMeetup","concat","meetupId","then","data","meetupActions","formatData","deleteAttendee","MeetupItem","location","useLocation","_props$meetup","title","description","address","date","meetupsUrl","favorites","favorite","_useState","useState","_useState2","Object","slicedToArray","isFavorite","setIsFavorite","some","favoriteActions","validateIsFavorite","Card","pathname","removeFromFavorites","addToFavorite","toggleDeletePopUp","UsersCard","guests_Guests","MeetupList","stateMeetups","meetups","toConsumableArray","meetups_MeetupItem","popup","close","DeletePopup","isPopupDelete","AllMeetups","_useRequest","isLoading","userUrl","usersURL","useEffect","userActions","formatUsers","Loading","layout_DeletePopup"],"mappings":"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","file":"static/js/3.5dc62044.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MeetupList_list__13kvz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MeetupItem_item__-oVtf\",\"image\":\"MeetupItem_image__1UjdA\",\"content\":\"MeetupItem_content___ZhVb\",\"actions\":\"MeetupItem_actions__2Rip3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"guests-card\":\"Guests_guests-card__cOgHU\",\"confirmed-button\":\"Guests_confirmed-button__3aLFU\",\"rejected-button\":\"Guests_rejected-button__eOrLY\",\"requested-button\":\"Guests_requested-button__3N_w-\",\"status\":\"Guests_status__1wTn_\"};","import React, { Fragment } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport useRequest from \"../../hooks/use-request\";\r\nimport { meetupActions } from \"../../store/meetUp-slice\";\r\n\r\nimport classes from \"./Guests.module.css\";\r\n\r\nconst Guests = (props) => {\r\n  const users = useSelector((state) => state.user.users);\r\n  const meetupUrl = useSelector((state) => state.meetup.meetupURL);\r\n  const dispatch = useDispatch();\r\n  const { callAPI } = useRequest();\r\n\r\n  const meetupAttendees =\r\n    typeof props.attendeesId === \"string\"\r\n      ? props.attendeesId.split(\",\")\r\n      : props.attendeesId;\r\n\r\n  let guests = [];\r\n  if (!meetupAttendees) {\r\n    guests = [];\r\n  } else {\r\n    meetupAttendees.forEach((attendee) => {\r\n      const realAttendee = users.filter((user) => user.id === attendee);\r\n      if (realAttendee[0]) {\r\n        guests.push(realAttendee[0]);\r\n      }\r\n    });\r\n  }\r\n\r\n  const deleteAttendee = (guestId) => {\r\n    const removeAttendeeFromMeetup = meetupAttendees.filter(\r\n      (attendee) => attendee !== guestId\r\n    );\r\n    callAPI(`${meetupUrl}/${props.meetupId}.json`, \"PATCH\", {\r\n      attendeesId: removeAttendeeFromMeetup,\r\n    }).then(() => {\r\n      callAPI(`${meetupUrl}.json`).then((data) => {\r\n        dispatch(meetupActions.formatData(data));\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={classes[\"guests-card\"]}>\r\n        <h2>\r\n          Attendees <span>({guests.length})</span>\r\n        </h2>\r\n        {guests && (\r\n          <ul>\r\n            {guests.map((guest) => (\r\n              <li key={guest.id}>\r\n                <img src={guest.image} alt=\"profile\" />\r\n                <p>{guest.name}</p>\r\n                <button onClick={(event) => deleteAttendee(guest.id)}>\r\n                  Remove\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Guests;\r\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { meetupActions } from \"../../store/meetUp-slice\";\nimport { favoriteActions } from \"../../store/favorite-slice\";\n\nimport classes from \"./MeetupItem.module.css\";\nimport Card from \"../ui/Card\";\nimport useRequest from \"../../hooks/use-request\";\nimport UsersCard from \"../ui/UsersCard\";\nimport Guests from \"../guests/Guests\";\n\nconst MeetupItem = (props) => {\n  const location = useLocation();\n\n  const { image, title, description, address, id, date, attendeesId } =\n    props.meetup;\n\n  const meetupsUrl = useSelector((state) => state.meetup.meetupURL);\n  const favorites = useSelector((state) => state.favorite.favorites);\n  const dispatch = useDispatch();\n  const { callAPI } = useRequest();\n\n  const [isFavorite, setIsFavorite] = useState(false);\n\n  const validateIsFavorite = (id) => {\n    if (favorites.some((meetupId) => meetupId === id)) {\n      dispatch(favoriteActions.isFavorite(id));\n      setIsFavorite(true);\n    }\n  };\n\n  validateIsFavorite(id);\n\n  const toggleFavoriteStatusHandler = () => {\n    if (isFavorite || location.pathname === \"/favorites\") {\n      dispatch(favoriteActions.removeFromFavorites(id));\n      setIsFavorite(false);\n    } else {\n      dispatch(\n        favoriteActions.addToFavorite({\n          id,\n          title,\n          description,\n          image,\n          address,\n          date,\n          attendeesId,\n        })\n      );\n      setIsFavorite(true);\n    }\n  };\n\n  const deleteMeetupHandler = () => {\n    callAPI(`${meetupsUrl}/${id}.json`, \"DELETE\").then(() => {\n      callAPI(`${meetupsUrl}.json`).then((data) => {\n        dispatch(meetupActions.formatData(data));\n      });\n      dispatch(meetupActions.toggleDeletePopUp());\n    });\n  };\n\n  return (\n    <li className={classes.item}>\n      <Card>\n        <div className={classes.image}>\n          <img src={image} alt=\"\" />\n        </div>\n        <div className={classes.content}>\n          <h3>{title}</h3>\n          <p>{date}</p>\n          <address>{address}</address>\n          <p>{description}</p>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={toggleFavoriteStatusHandler}>\n            {isFavorite || location.pathname === \"/favorites\"\n              ? \"Remove from favorites\"\n              : \"To Favorites\"}\n          </button>\n          {location.pathname === \"/\" ? (\n            <button onClick={deleteMeetupHandler}>Delete Meetup</button>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <UsersCard>\n          <Guests\n            attendeesId={props.meetup.attendeesId}\n            meetupId={props.meetup.id}\n          ></Guests>\n        </UsersCard>\n      </Card>\n    </li>\n  );\n};\n\nexport default MeetupItem;\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport classes from \"./MeetupList.module.css\";\r\n\r\nimport MeetupItem from \"./MeetupItem\";\r\n\r\nconst MeetupList = (props) => {\r\n  const stateMeetups = useSelector((state) => state.meetup.meetups);\r\n\r\n  let meetups = props.meetups ? [...props.meetups] : [...stateMeetups];\r\n\r\n  return (\r\n    <ul className={classes.list}>\r\n      {meetups.map((meetup) => (\r\n        <MeetupItem key={meetup.id} meetup={meetup} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MeetupList;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"DeletePopup_popup__2FQA1\",\"close\":\"DeletePopup_close__Ifaab\"};","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { meetupActions } from \"../../store/meetUp-slice\";\r\n\r\nimport Card from \"../ui/Card\";\r\nimport classes from \"./DeletePopup.module.css\";\r\n\r\nconst DeletePopup = (props) => {\r\n  const isPopupDelete = useSelector((state) => state.meetup.isPopupDelete);\r\n  const dispatch = useDispatch();\r\n\r\n  const closeDeletePopupHandler = (event) => {\r\n    dispatch(meetupActions.toggleDeletePopUp());\r\n  };\r\n  return isPopupDelete ? (\r\n    <Card>\r\n      <div className={classes.popup}>\r\n        <div>\r\n          <h4>Item Deleted</h4>\r\n        </div>\r\n        <div>\r\n          <button className={classes.close} onClick={closeDeletePopupHandler}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport default DeletePopup;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { meetupActions } from \"../store/meetUp-slice\";\r\nimport { userActions } from \"../store/userSlice\";\r\n\r\nimport MeetupList from \"../components/meetups/MeetupList\";\r\nimport DeletePopup from \"../components/layout/DeletePopup\";\r\n// import SearchBar from '../components/layout/SearchBar'\r\nimport Loading from \"../components/layout/Loading\";\r\nimport useRequest from \"../hooks/use-request\";\r\n\r\nconst AllMeetups = () => {\r\n  const { isLoading, callAPI } = useRequest();\r\n\r\n  const meetupUrl = useSelector((state) => state.meetup.meetupURL);\r\n  const userUrl = useSelector((state) => state.user.usersURL);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    callAPI(`${meetupUrl}.json`).then((data) => {\r\n      dispatch(meetupActions.formatData(data));\r\n    });\r\n    callAPI(`${userUrl}.json`).then((data) => {\r\n      dispatch(userActions.formatUsers(data));\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <section>\r\n      {isLoading && <Loading />}\r\n      <DeletePopup />\r\n      {/* <SearchBar /> */}\r\n      <h1>All Meetups</h1>\r\n      <MeetupList />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AllMeetups;\r\n"],"sourceRoot":""}